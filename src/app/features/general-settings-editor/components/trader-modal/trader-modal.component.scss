.trader-modal {
  .dialog-title {
    margin-bottom: 16px;
  }
  
  .form-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 16px;
    margin-bottom: 16px;
    
    @media (max-width: 700px) {
      grid-template-columns: 1fr;
    }
  }
  
  .coordinates-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 16px;
    
    @media (max-width: 500px) {
      grid-template-columns: 1fr;
    }
  }
  
  /* Trader type selection styling */
  .trader-type-selection {
    width: 100%;
    margin-bottom: 16px;
    padding-bottom: 16px;
    border-bottom: 1px solid var(--brush-border-subtle, rgba(255, 255, 255, 0.12));
    
    .trader-type-group {
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: center;
      flex-wrap: nowrap;
      margin-bottom: 12px;
      
      .mat-mdc-radio-button {
        margin-right: 32px;
      }
    }
  }

  /* Categories section styling */
  .categories-panel-content {
    padding: 8px 0;
    
    .empty-categories {
      display: flex;
      align-items: center;
      padding: 16px;
      background-color: rgba(255, 255, 255, 0.05);
      border-radius: 4px;
      
      .empty-icon {
        margin-right: 12px;
        color: var(--brush-warning);
      }
      
      .empty-message {
        margin: 0;
        color: var(--brush-text-secondary);
      }
    }
    
    /* Warning for unknown categories */
    .unknown-categories-warning {
      display: flex;
      align-items: flex-start;
      padding: 12px;
      background-color: rgba(255, 193, 7, 0.1);
      border-radius: 4px;
      margin-bottom: 16px;
      
      .warning-icon {
        margin-right: 12px;
        color: var(--brush-warning, #ffc107);
      }
      
      .warning-message {
        p {
          margin: 0;
          font-size: 0.9em;
          color: var(--brush-text-secondary);
          
          &:not(:last-child) {
            margin-bottom: 4px;
          }
        }
      }
    }
    
    .categories-selection {
      .selected-summary {
        margin-bottom: 12px;
        font-size: 0.9em;
        color: var(--brush-text-secondary);
        
        .unknown-count {
          color: var(--brush-warning, #ffc107);
          margin-left: 8px;
          font-size: 0.85em;
          font-style: italic;
        }
      }
      
      .categories-list {
        display: flex;
        flex-direction: column;
        gap: 8px;
        max-height: 200px;
        overflow-y: auto;
        padding: 8px 0;
        
        .category-checkbox {
          position: relative;
          
          &.selected-category {
            // Visual indicator for selected categories
            background-color: rgba(var(--brush-primary-rgb), 0.08);
            border-radius: 4px;
            
            .category-info {
              .category-name {
                color: var(--brush-primary);
              }
              
              .category-id {
                opacity: 0.9;
              }
            }
          }
          
          // Add a subtle divider between selected and non-selected categories
          &:last-of-type.selected-category::after {
            content: "";
            position: absolute;
            bottom: -4px;
            left: 0;
            right: 0;
            height: 1px;
            background-color: rgba(255, 255, 255, 0.12);
          }
          
          /* Unknown category styling */
          &.unknown-category {
            background-color: rgba(255, 193, 7, 0.05);
            border-radius: 4px;
            border-left: 3px solid var(--brush-warning, #ffc107);
            padding-left: 4px;
            
            .category-info {
              .category-id {
                margin-left: 0;
                color: var(--brush-warning, #ffc107);
                font-weight: 500;
              }
              
              .unknown-icon {
                font-size: 16px;
                height: 16px;
                width: 16px;
                margin-left: 8px;
                color: var(--brush-warning, #ffc107);
              }
            }
          }
          
          .category-info {
            display: flex;
            align-items: center;
            
            .category-name {
              font-weight: 500;
            }
            
            .category-id {
              margin-left: 8px;
              font-size: 0.85em;
              color: var(--brush-text-secondary);
              opacity: 0.7;
            }
          }
        }
      }
    }
  }

  /* Info box styling for trader type info */
  .info-box {
    display: flex;
    align-items: flex-start;
    padding: 12px;
    background-color: rgba(255, 255, 255, 0.05);
    border-radius: 4px;
    margin-top: 8px;
    
    .info-icon {
      margin-right: 8px;
      color: var(--brush-primary);
    }
    
    .info-content {
      p {
        margin: 0;
        font-size: 0.9em;
        color: var(--brush-text-secondary);
      }
    }
  }

  /* Panel styling */
  .custom-expansion-panel {
    margin-bottom: 16px;
    
    .panel-info-text {
      color: var(--brush-text-secondary);
      font-style: italic;
    }
  }
}

/* Categories and Currencies shared styling */
.categories-panel-content,
.currencies-panel-content {
  padding: 8px 0;
  
  .empty-categories,
  .empty-currencies {
    display: flex;
    align-items: center;
    padding: 16px;
    background-color: rgba(255, 255, 255, 0.05);
    border-radius: 4px;
    
    .empty-icon {
      margin-right: 12px;
      color: var(--brush-warning);
    }
    
    .empty-message {
      margin: 0;
      color: var(--brush-text-secondary);
    }
  }
  
  /* Warning for unknown items */
  .unknown-categories-warning,
  .unknown-currencies-warning {
    display: flex;
    align-items: flex-start;
    padding: 12px;
    background-color: rgba(255, 193, 7, 0.1);
    border-radius: 4px;
    margin-bottom: 16px;
    
    .warning-icon {
      margin-right: 12px;
      color: var(--brush-warning, #ffc107);
    }
    
    .warning-message {
      p {
        margin: 0;
        font-size: 0.9em;
        color: var(--brush-text-secondary);
        
        &:not(:last-child) {
          margin-bottom: 4px;
        }
      }
    }
  }
  
  .categories-selection,
  .currencies-selection {
    .selected-summary {
      margin-bottom: 12px;
      font-size: 0.9em;
      color: var(--brush-text-secondary);
      
      .unknown-count {
        color: var(--brush-warning, #ffc107);
        margin-left: 8px;
        font-size: 0.85em;
        font-style: italic;
      }
    }
    
    .categories-list,
    .currencies-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
      max-height: 200px;
      overflow-y: auto;
      padding: 8px 0;
      
      .category-checkbox,
      .currency-checkbox {
        position: relative;
        
        &.selected-category,
        &.selected-currency {
          // Visual indicator for selected items
          background-color: rgba(var(--brush-primary-rgb), 0.08);
          border-radius: 4px;
          
          .category-info,
          .currency-info {
            .category-name,
            .currency-name {
              color: var(--brush-primary);
            }
            
            .category-id,
            .currency-count {
              opacity: 0.9;
            }
          }
        }
        
        // Add a subtle divider between selected and non-selected items
        &:last-of-type.selected-category::after,
        &:last-of-type.selected-currency::after {
          content: "";
          position: absolute;
          bottom: -4px;
          left: 0;
          right: 0;
          height: 1px;
          background-color: rgba(255, 255, 255, 0.12);
        }
        
        /* Unknown item styling */
        &.unknown-category,
        &.unknown-currency {
          background-color: rgba(255, 193, 7, 0.05);
          border-radius: 4px;
          border-left: 3px solid var(--brush-warning, #ffc107);
          padding-left: 4px;
          
          .category-info,
          .currency-info {
            .category-id,
            .currency-name {
              margin-left: 0;
              color: var(--brush-warning, #ffc107);
              font-weight: 500;
            }
            
            .unknown-icon {
              font-size: 16px;
              height: 16px;
              width: 16px;
              margin-left: 8px;
              color: var(--brush-warning, #ffc107);
            }
          }
        }
        
        .category-info,
        .currency-info {
          display: flex;
          align-items: center;
          
          .category-name,
          .currency-name {
            font-weight: 500;
          }
          
          .category-id,
          .currency-count {
            margin-left: 8px;
            font-size: 0.85em;
            color: var(--brush-text-secondary);
            opacity: 0.7;
          }
        }
      }
    }
  }
}
