/* Material Slide Toggle Styles
========================================================================== */
/**
 * Custom Slide Toggle Implementation
 * 
 * The Material slide toggle is heavily customized to match our design system.
 * The default Material theming approach doesn't provide enough control over
 * specific toggle components, so we manually override several internal parts.
 * 
 * Key customizations include:
 * - Consistent handle color regardless of state
 * - Custom track colors for checked/unchecked states
 * - Specific hover and focus states
 * - Light variant for use on dark backgrounds
 */
.mat-mdc-slide-toggle {
  // Handle (Thumb) - consistently white regardless of state
  .mdc-switch:enabled .mdc-switch__handle::after {
    background-color: var(--color-neutral-lightest) !important;
  }

  // Track - Unchecked State
  // We use multiple selectors to ensure high specificity to override Material defaults
  .mdc-switch:enabled .mdc-switch__track,
  .mdc-switch:enabled .mdc-switch__track::before,
  .mdc-switch:enabled .mdc-switch__track::after {
    background-color: var(--color-neutral-medium) !important;
    border: none !important;
    opacity: 0.3;
  }

  // Track - Checked State with primary accent color
  &.mat-primary {
    .mdc-switch.mdc-switch--selected:enabled {
      .mdc-switch__track,
      .mdc-switch__track::before,
      .mdc-switch__track::after {
        background-color: var(--color-accent-medium) !important;
        border: none !important;
        opacity: 1;
      }

      .mdc-switch__handle::after {
        background-color: #ffffff !important;
      }

      .mdc-switch__icon {
        fill: var(--color-accent-medium) !important;
      }
    }
  }

  // Hover States - Improves visual feedback on interaction
  &:hover {
    .mdc-switch:enabled .mdc-switch__track {
      opacity: 0.4; // Slightly more visible on hover
    }

    &.mat-primary .mdc-switch.mdc-switch--selected:enabled .mdc-switch__track {
      opacity: 0.8;
    }
  }

  // Disabled States - Clearly indicates non-interactive state
  .mdc-switch:disabled {
    .mdc-switch__handle::after {
      background-color: var(--color-neutral-light) !important; // Dimmed white
    }

    .mdc-switch__track {
      background-color: var(--color-neutral-dark) !important;
      opacity: 0.2;
    }
  }

  // Focus State - Improves accessibility by showing clear focus indication
  .mdc-switch:focus-within {
    outline: 2px solid var(--brush-focus-outline) !important;
    outline-offset: 2px;
  }

  /**
   * Light Variant
   * 
   * For use on dark backgrounds or in contexts where the toggle
   * should stand out from the dark theme background
   */
  &.light-toggle {
    .mdc-switch:enabled .mdc-switch__handle::after {
      background-color: #ffffff !important; // Remains white
    }

    .mdc-switch:enabled .mdc-switch__track {
      background-color: var(--color-neutral-medium) !important;
      opacity: 0.3;
    }

    &:hover .mdc-switch:enabled .mdc-switch__track {
      opacity: 0.4;
    }

    .mdc-switch:disabled {
      .mdc-switch__handle::after {
        background-color: var(--color-neutral-light) !important;
      }

      .mdc-switch__track {
        background-color: var(--color-neutral-lightest) !important;
        opacity: 0.2;
      }
    }

    .mdc-switch:focus-within {
      outline-color: var(--brush-focus-outline-light) !important;
    }
  }
}
