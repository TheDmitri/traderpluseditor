/**
 * Custom Scrollbar Styling
 * ========================================================================== 
 * This file contains styling for browser scrollbars to ensure they match
 * the application's design system. These styles are cross-browser compatible
 * with progressive enhancement in mind.
 *
 * Following the 60-30-10 ratio principle:
 * - 60%: Scrollbar track/background (neutral colors)
 * - 30%: Scrollbar thumb in default state (secondary colors)
 * - 10%: Scrollbar thumb in hover/active states (primary/accent colors)
 */

/* Webkit Browsers (Chrome, Safari, newer Edge)
 * ========================================================================== 
 * Styling for Webkit-based browsers
 */
::-webkit-scrollbar {
  width: 8px; // Standard width for vertical scrollbar
  height: 8px; // Height for horizontal scrollbar
}

::-webkit-scrollbar-track {
  background-color: var(--brush-background-dark); // 60% - neutral background
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background-color: var(--color-neutral-dark); // 30% - supporting element
  border-radius: 4px;
  transition: background-color var(--transition-normal) var(--transition-timing);
}

::-webkit-scrollbar-thumb:hover {
  background-color: var(--color-primary-dark); // 10% - accent for interaction
}

::-webkit-scrollbar-thumb:active {
  background-color: var(--color-primary-medium); // 10% - accent for interaction
}

/* Firefox Scrollbar
 * ========================================================================== 
 * Firefox uses its own scrollbar styling mechanism
 */
* {
  scrollbar-width: thin; // Use thin scrollbars in Firefox
  scrollbar-color: var(--color-neutral-dark) var(--brush-background-dark); // thumb and track colors
}

/* Edge and Internet Explorer
 * ========================================================================== 
 * Legacy support for non-webkit Edge and IE
 */
.scrollbar-container {
  -ms-overflow-style: -ms-autohiding-scrollbar; // Auto-hiding scrollbars for Edge/IE
}

/* Custom Scrollable Areas
 * ========================================================================== 
 * Class for adding custom scrollbar to specific elements
 */
.custom-scrollbar {
  overflow: auto;
  
  // Override for dark themes - lighter scrollbar on dark backgrounds
  &.dark-theme {
    &::-webkit-scrollbar-track {
      background-color: var(--brush-background-darkest); // 60% - darker neutral
    }
    
    &::-webkit-scrollbar-thumb {
      background-color: var(--color-neutral-medium); // 30% - lighter for visibility
    }
    
    &::-webkit-scrollbar-thumb:hover {
      background-color: var(--color-primary-medium); // 10% - accent for interaction
    }
    
    // Firefox variant
    scrollbar-color: var(--color-neutral-medium) var(--brush-background-darkest);
  }
  
  // Override for light themes - darker scrollbar on light backgrounds
  &.light-theme {
    &::-webkit-scrollbar-track {
      background-color: var(--color-background-lightest); // 60% - light neutral
    }
    
    &::-webkit-scrollbar-thumb {
      background-color: var(--color-neutral-light); // 30% - darker for visibility
    }
    
    &::-webkit-scrollbar-thumb:hover {
      background-color: var(--color-primary-dark); // 10% - accent for interaction
    }
    
    // Firefox variant
    scrollbar-color: var(--color-neutral-light) var (--color-background-lightest);
  }
}

/* Hide Scrollbar but Allow Scrolling
 * ========================================================================== 
 * Hides scrollbar visually while preserving scroll functionality
 */
.hide-scrollbar {
  -ms-overflow-style: none; // IE and Edge
  scrollbar-width: none; // Firefox
  
  &::-webkit-scrollbar {
    display: none; // Chrome, Safari, and Opera
  }
}

/* Scrollbar Variants
 * ========================================================================== */

/* Slim Scrollbar - for compact UIs */
.slim-scrollbar {
  &::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  
  scrollbar-width: thin;
}

/* Accent Scrollbar - uses primary color for emphasis */
.accent-scrollbar {
  &::-webkit-scrollbar-thumb {
    background: var(--color-primary-dark); // 10% - accent element
    
    &:hover {
      background: var(--color-primary-medium); // 10% - accent hover state
    }
  }
  
  scrollbar-color: var(--color-primary-dark) var(--brush-background-elevated);
}

/* Transparent Scrollbar - more subtle for content-focused areas */
.transparent-scrollbar {
  &::-webkit-scrollbar-track {
    background: transparent;
  }
  
  &::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2); // 60% - subtle neutral with transparency
    
    &:hover {
      background: rgba(255, 255, 255, 0.3); // 60% - slightly more visible on hover
    }
  }
  
  scrollbar-color: rgba(255, 255, 255, 0.2) transparent;
}

/* Hidden Scrollbar - scrolling functionality without visible scrollbar */
.hidden-scrollbar {
  -ms-overflow-style: none; // IE and Edge
  scrollbar-width: none; // Firefox
  
  &::-webkit-scrollbar {
    display: none; // Chrome, Safari and Opera
  }
}

/* Light Mode Scrollbar - for light theme contexts */
.light-scrollbar {
  &::-webkit-scrollbar-track {
    background: var(--color-neutral-lightest); // 60% - light structural element
  }
  
  &::-webkit-scrollbar-thumb {
    background: var(--color-neutral-medium); // 30% - supporting element
    
    &:hover {
      background: var(--color-primary-medium); // 10% - accent for interaction
    }
  }
  
  scrollbar-color: var(--color-neutral-medium) var(--color-neutral-lightest);
}

/* Custom Content Scrolling Utilities
 * ========================================================================== */
/**
 * Utility classes to control scrolling behavior in specific containers
 */

// Enables smooth scrolling for the entire application
html {
  scroll-behavior: smooth;
}

// Container with vertical scrolling only
.scroll-y {
  overflow-y: auto;
  overflow-x: hidden;
}

// Container with horizontal scrolling only
.scroll-x {
  overflow-x: auto;
  overflow-y: hidden;
}

// Container with both scrolling directions
.scroll-both {
  overflow: auto;
}

// Container with automatic scroll shadows (fades at the edges)
.scroll-shadow {
  background: 
    linear-gradient(var(--brush-background-surface) 30%, rgba(255, 255, 255, 0)),
    linear-gradient(rgba(255, 255, 255, 0), var(--brush-background-surface) 70%) 0 100%,
    radial-gradient(farthest-side at 50% 0, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0)),
    radial-gradient(farthest-side at 50% 100%, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0)) 0 100%;
  background-repeat: no-repeat;
  background-size: 100% 40px, 100% 40px, 100% 14px, 100% 14px;
  background-attachment: local, local, scroll, scroll;
}
